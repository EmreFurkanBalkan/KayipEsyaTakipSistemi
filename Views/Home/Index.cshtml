@{
    Layout = "~/Views/Shared/_Layout.cshtml";
    ViewData["Title"] = "Ana Sayfa";
}

@section Hero {
    <div class="hero-section">
        <div class="overlay">
            <h1>IETT Kayıp Eşya Takip Sistemi</h1>
            <p>Toplu taşımada unutulan eşyaları kolayca yönetin ve takip edin</p>
        </div>
    </div>
}

<!-- Stats Section -->
<div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-12">
    <div class="bg-white rounded-xl p-6 shadow-sm border border-gray-200">
        <div class="flex items-center">
            <div class="p-3 rounded-lg bg-blue-50">
                <svg class="w-6 h-6 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2-2v2m8 0V6a2 2 0 012 2v6a2 2 0 01-2 2H6a2 2 0 01-2-2V8a2 2 0 012-2V6"></path>
                </svg>
            </div>
            <div class="ml-4">
                <h3 class="text-lg font-semibold text-gray-900">Toplam Eşya</h3>
                <p class="text-2xl font-bold text-blue-600">@ViewBag.TotalItems</p>
            </div>
        </div>
    </div>
    
    <div class="bg-white rounded-xl p-6 shadow-sm border border-gray-200">
        <div class="flex items-center">
            <div class="p-3 rounded-lg bg-green-50">
                <svg class="w-6 h-6 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                </svg>
            </div>
            <div class="ml-4">
                <h3 class="text-lg font-semibold text-gray-900">Teslim Edildi</h3>
                <p class="text-2xl font-bold text-green-600">@ViewBag.DeliveredItems</p>
            </div>
        </div>
    </div>
    
    <div class="bg-white rounded-xl p-6 shadow-sm border border-gray-200">
        <div class="flex items-center">
            <div class="p-3 rounded-lg bg-orange-50">
                <svg class="w-6 h-6 text-orange-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                </svg>
            </div>
            <div class="ml-4">
                <h3 class="text-lg font-semibold text-gray-900">Teslim Edilmedi</h3>
                <p class="text-2xl font-bold text-orange-600">@ViewBag.PendingItems</p>
            </div>
        </div>
    </div>
</div>

<!-- Quick Actions -->
<div class="mb-12">
    <h2 class="text-2xl font-bold text-gray-900 mb-6">Hızlı İşlemler</h2>
    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
        <div class="card-modern p-6 text-center">
            <div class="w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4">
                <svg class="w-8 h-8 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2-2v2m8 0V6a2 2 0 012 2v6a2 2 0 01-2 2H6a2 2 0 01-2-2V8a2 2 0 012-2V6"></path>
                </svg>
            </div>
            <h3 class="text-xl font-semibold text-gray-900 mb-2">Kayıp Eşyalar</h3>
            <p class="text-gray-600 mb-4">Sisteme eklenen tüm kayıp eşyaları görüntüleyin ve yönetin</p>
            <a class="btn-primary-modern" asp-controller="LostItems" asp-action="Index">Görüntüle</a>
        </div>
        
        <div class="card-modern p-6 text-center">
            <div class="w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4">
                <svg class="w-8 h-8 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                </svg>
            </div>
            <h3 class="text-xl font-semibold text-gray-900 mb-2">Hat Kodları</h3>
            <p class="text-gray-600 mb-4">Otobüs hatlarını ve kodlarını görüntüleyin ve yönetin</p>
            <a class="btn-primary-modern" asp-controller="LineCodes" asp-action="Index">Görüntüle</a>
        </div>
    </div>
</div>

<!-- Recent Activity -->
<div class="bg-white rounded-xl shadow-sm border border-gray-200 p-6">
    <h2 class="text-xl font-semibold text-gray-900 mb-4">Son Aktiviteler</h2>
    <div class="max-h-96 overflow-y-auto space-y-4">
        @if (ViewBag.RecentActivities != null && ((List<LostAndFoundApp.Models.Logs>)ViewBag.RecentActivities).Any())
        {
            @foreach (var activity in (List<LostAndFoundApp.Models.Logs>)ViewBag.RecentActivities)
            {
                <div class="flex items-center space-x-4 p-4 bg-gray-50 rounded-lg">
                    @{
                        string bgColor = "bg-blue-500";
                        string textColor = "bg-blue-100 text-blue-800";
                        string displayType = activity.LogType;
                        
                        switch (activity.LogType.ToUpper())
                        {
                            case "CREATE":
                                bgColor = "bg-blue-500";
                                textColor = "bg-blue-100 text-blue-800";
                                displayType = "Oluşturma";
                                break;
                            case "UPDATE":
                                bgColor = "bg-yellow-500";
                                textColor = "bg-yellow-100 text-yellow-800";
                                displayType = "Güncelleme";
                                break;
                            case "DELETE":
                                bgColor = "bg-red-500";
                                textColor = "bg-red-100 text-red-800";
                                displayType = "Silme";
                                break;
                        }
                    }
                    <div class="w-2 h-2 @bgColor rounded-full"></div>
                    <div class="flex-1">
                        <p class="text-sm font-medium text-gray-900">@activity.LogContent</p>
                        <p class="text-xs text-gray-500">@activity.Executor - @activity.CreatedAt.ToString("dd.MM.yyyy HH:mm")</p>
                    </div>
                    <span class="px-2 py-1 text-xs rounded-full @textColor">@displayType</span>
                </div>
            }
        }
        else
        {
            <div class="text-center py-8">
                <p class="text-gray-500">Henüz aktivite bulunmuyor.</p>
            </div>
        }
    </div>
</div>
